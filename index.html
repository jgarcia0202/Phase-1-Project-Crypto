<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css" />
    <title>Crypto Finder</title>
  </head>
  <body>
    <h1>|Welcome to BITCOIN INFO WATCHER!|</h1>
    <h2>BITCOIN(BTC):</h2>
    
    <p3 id="text">This will give you information on the current Bitcoin status__|</p3>
    <script type="text/javascript" src="index.js"></script>

    <p>
      dayOfTheWeek: <span id = 'day'></span><br />
      currentDateTime: <span id = 'time'></span>
    </p>
    <p2>
      price in usd: <span id = 'usd'></span><br />
      market cap: <span id = 'cap'></span><br />
      change: <span id = 'chg'></span>
    </p2>
    <script>
    const cryptoUrl = 'https://api.coinlore.net/api/tickers/?start=0&limit=1';
    const timeUrl = 'http://worldclockapi.com/api/json/est/now'

    async function getCryto() {
      const response = await fetch(cryptoUrl);
      const dat = await response.json();
      const priceUSD = dat.data[0].price_usd;
      const changeUSD = dat.data[0].percent_change_24h;
      const capUSD = dat.data[0].market_cap_usd;
      console.log(dat.data[0].price_usd);
      console.log(dat.data[0].percent_change_24h);
      console.log(dat.data[0].market_cap_usd);

      document.getElementById('usd').textContent = priceUSD;
      document.getElementById('cap').textContent = changeUSD;
      document.getElementById('chg').textContent = capUSD;
    }

    async function getTime() {
      const response = await fetch(timeUrl);
      const data = await response.json();
      const { currentDateTime, dayOfTheWeek} = data;
      console.log(currentDateTime);
      console.log(dayOfTheWeek);
      // timeZoneName: "Eastern Standard Time"
      document.getElementById('day').textContent = dayOfTheWeek;
      document.getElementById('time').textContent = currentDateTime;
    }

    getCryto();
    getTime();

    src="script.js"</script>
  </body>
</html>